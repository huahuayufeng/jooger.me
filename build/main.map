{"version":3,"sources":["webpack:///webpack/bootstrap 5c2e2f1dae4cebd867bf","webpack:///./config/index.js","webpack:///./server/utils.js","webpack:///./~/babel-runtime/regenerator/index.js","webpack:///./nuxt.config.js","webpack:///./server/routes.js","webpack:///external \"koa\"","webpack:///external \"koa-respond\"","webpack:///external \"koa-router\"","webpack:///external \"nuxt\"","webpack:///./server/controllers/article.js","webpack:///./server/controllers/index.js","webpack:///external \"axios\"","webpack:///external \"regenerator-runtime\"","webpack:///external \"simple-node-logger\"","webpack:///./server/index.js"],"names":["baseService","url","method","baseURL","headers","timeout","responseType","common","code","FAILED","SUCCESS","UNAUTHORIZED","client","service","Object","assign","proxy","host","port","process","env","PORT","server","github","owner","repo","clientId","clientSecret","timestampFormat","fetcher","axios","create","config","logger","simpleNodeLogger","createRollingFileLogger","logDirectory","fileNamePattern","createSimpleLogger","ctx","type","next","support","handleError","message","path","handleRequest","handleSuccess","data","info","success","err","end","error","keys","length","console","failed","isProd","module","exports","srcDir","cache","max","maxAge","dev","head","title","titleTemplate","meta","charset","content","name","hid","link","rel","href","css","src","lang","loading","build","vendor","plugins","ssr","router","linkActiveClass","use","response","set","get","articleController","list","item","mdImageReg","articleCtrl","GET","query","page","per_page","search","labels","res","q","params","sort","order","client_id","client_secret","catch","prev","includes","articles","items","map","body","articleParser","pagination","Number","total","total_count","filter","state","direction","number","detail","splits","split","thumb","cap","exec","_content","global","app","HOST","nuxtConfig","nuxt","builder","e","exit","respond","methods","send","status","Promise","resolve","reject","on","render","req","promise","then","prefix","routes","allowedMethods","listen","log"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5c2e2f1dae4cebd867bf","/**\n * @desc App Config\n * @author Jooger <zzy1198258955@163.com>\n * @date 19 Sep 2017\n */\n\n// const isProd = process.env.NODE_ENV === 'production'\nconst baseService = {\n  url: '/',\n  method: 'get',\n  baseURL: '/',\n  headers: {\n    'X-Requested-With': 'XMLHttpRequest',\n    'Accept': 'application/json'\n  },\n  timeout: 120000,\n  responseType: 'json'\n}\n\nexport default {\n  common: {\n    code: {\n      FAILED: -1,\n      SUCCESS: 0,\n      UNAUTHORIZED: 401\n    }\n  },\n  client: {\n    service: Object.assign({}, baseService, {\n      baseURL: '/api',\n      proxy: {\n        host: '127.0.0.1',\n        port: process.env.PORT || 3000\n      }\n    })\n  },\n  server: {\n    service: Object.assign({}, baseService, {\n      baseURL: 'https://api.github.com/'\n    }),\n    github: {\n      owner: 'jo0ger',\n      repo: 'git-hook-test',\n      clientId: 'b4983366c4c7549a09f1',\n      clientSecret: '76fd8c26a21659d7eb925af0ed3498eabed49277'\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./config/index.js","/**\n * @desc Utils\n * @author Jooger <zzy1198258955@163.com>\n * @date 19 Sep 2017\n */\n\nimport axios from 'axios'\nimport simpleNodeLogger from 'simple-node-logger'\nimport config from '../config'\n\nconst timestampFormat = 'YYYY-MM-DD HH:mm:ss'\n\nexport const fetcher = axios.create(config.server.service)\n\nexport const logger = (process.env.NODE_ENV === 'production' && process.env.log)\n  ? simpleNodeLogger.createRollingFileLogger({\n    timestampFormat,\n    logDirectory: './logs',\n    fileNamePattern: '<DATE>.log'\n  })\n  : new simpleNodeLogger.createSimpleLogger({\n    timestampFormat,\n  })\n\nexport async function handleRequest ({ ctx, type, next }) {\n  const method = ctx.method\n  const support = !!type[method]\n  if (support) {\n    await type[method](ctx, next)\n  } else {\n    handleError({ ctx, message: `${ctx.path}不支持${method}请求类型` })\n  }\n}\n\nexport function handleSuccess ({ ctx, message = '请求成功', data = {} }) {\n  logger.info(`接口：${ctx.path}，结果： ${message}`)\n  ctx.success({\n    message,\n    data: data || {}\n  })\n}\n\nexport function handleError ({ ctx, message = '请求失败', err = {} }, end = false) {\n  logger.error(`接口：${ctx.path}，结果： ${message}`)\n  Object.keys(err).length && console.error(err)\n  !end && ctx.failed({\n    message,\n    error: err || {}\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/utils.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/regenerator/index.js\n// module id = 2\n// module chunks = 0","const isProd = process.env.NODE_ENV === 'production'\n\nmodule.exports = {\n  srcDir: 'client/',\n  cache: {\n    max: 20,\n    maxAge: 600000\n  },\n  dev: !isProd,\n  head: {\n    title: 'Jooger.me - Jooger jooger, chicken dinner',\n    titleTemplate: '%s - Jooger.me',\n    meta: [\n      { charset: 'utf-8' },\n      { 'http-equiv': 'X-UA-Compatible', content: 'IE=edge' },\n      { 'http-equiv': 'Cache-Control', content: 'no-transform' },\n      { 'http-equiv': 'Cache-Control', content: 'no-siteapp' },\n      { 'http-equiv': 'cleartype', content: 'on' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1.0, user-scalable=no' },\n      { name: 'MobileOptimized', content: '320' },\n      { name: 'HandheldFriendly', content: 'True' },\n      { name: 'apple-mobile-web-app-capable', content: 'yes' },\n      { name: 'author', content: 'zzy1198258955@163.com' },\n      { hid: 'keywords', name: 'keywords', content: 'Jooger,Jooger.me,Blog,FE,前端技术开发' },\n      { hid: 'description', name: 'description', content: 'Jooger jooger, chicken dinner' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' },\n      { rel: 'stylesheet', href: '//at.alicdn.com/t/font_268993_tu4k21igcspgmn29.css' }\n    ]\n  },\n  css: [\n    'normalize.css',\n    'swiper/dist/css/swiper.css',\n    'gitalk/dist/gitalk.css',\n    { src: '~assets/stylus/index.styl', lang: 'stylus' }\n  ],\n  loading: '~/components/Common/PageLoading',\n  // loading: { color: '#2196f3' },\n  build: {\n    vendor: [\n      'axios',\n      'bezier-easing',\n      'highlight.js',\n      'marked'\n    ]\n  },\n  plugins: [\n    { src: '~plugins/router.js', ssr: false },\n    { src: '~plugins/filter.js' },\n    { src: '~plugins/swiper.js', ssr: false },\n    { src: '~plugins/image.js', ssr: false }\n  ],\n  router: {\n    linkActiveClass: 'active'\n  }\n  // transition: {\n  //   name: 'fade',\n  //   mode: 'out-in'\n  // }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","/**\n * @desc server routes\n * @author Jooger <zzy1198258955@163.com>\n * @date 15 Sep 2017\n */\n\nimport { articleController } from './controllers'\n\nexport default router => {\n  router.use('*', (ctx, next) => {\n    ctx.response.set('Content-Type', 'application/json;charset=utf-8')\n    return next()\n  })\n  router.get('article-list', '/articles', articleController.list)\n  router.get('article-detail', '/article/:number', articleController.item)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"koa-respond\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-respond\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 9\n// module chunks = 0","/**\n * @desc Article controller\n * @author Jooger <zzy1198258955@163.com>\n * @date 19 Sep 2017\n */\n\nimport config from '../../config'\nimport { fetcher, handleRequest, handleSuccess, handleError } from '../utils'\n\nconst mdImageReg = /^!\\[((?:\\[[^\\]]*\\]|[^[\\]]|\\](?=[^[]*\\]))*)\\]\\(\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)/\n\nconst articleCtrl = { list: {}, item: {} }\n\narticleCtrl.list.GET = async (ctx, next) => {\n  const { page = 1, per_page = 12, search = '', labels = '' } = ctx.query\n  let res = null\n  if (search) {\n    const q = `${search} type:issue state:open in:title,body author:${config.server.github.owner} repo:${config.server.github.repo}`\n    res = await fetcher.get('/search/issues', {\n      params: {\n        q,\n        sort: 'created',\n        order: 'asc',\n        client_id: config.server.github.clientId,\n        client_secret: config.server.github.clientSecret,\n        page,\n        per_page\n      }\n    }).catch(err => handleError({ ctx, err }))\n\n    if (res) {\n      const link = res.headers.link || ''\n      let prev = link.includes('rel=\"prev\"')\n      let next = link.includes('rel=\"next\"')\n      const articles = res.data.items.map(item => {\n        item.body = articleParser(item.body)\n        return item\n      })\n      handleSuccess({\n        ctx,\n        data: {\n          list: articles,\n          pagination: { prev, next, page: Number(page), per_page },\n          total: res.data.total_count\n        }\n      })\n    }\n  } else {\n    const params = {\n      filter: 'created',\n      state: 'open',\n      sort: 'created',\n      direction: 'desc',\n      client_id: config.server.github.clientId,\n      client_secret: config.server.github.clientSecret,\n      page,\n      per_page\n    }\n    if (labels) {\n      params.labels = labels\n    }\n    res = await fetcher.get(`/repos/${config.server.github.owner}/${config.server.github.repo}/issues`, { params })\n      .catch(err => handleError({ ctx, err }))\n    if (res) {\n      const link = res.headers.link || ''\n      let prev = link.includes('rel=\"prev\"')\n      let next = link.includes('rel=\"next\"')\n      const articles = res.data.map(item => {\n        item.body = articleParser(item.body)\n        return item\n      })\n      // ctx.response.set('Accept', 'application/vnd.github.squirrel-girl-preview')\n      handleSuccess({\n        ctx,\n        data: {\n          list: articles,\n          pagination: { prev, next, page: Number(page), per_page }\n        }\n      })\n    }\n  }\n\n  if (!res) {\n    handleError({ ctx })\n  }\n}\n\narticleCtrl.item.GET = async (ctx, next) => {\n  const number = ctx.params.number\n  const res = await fetcher.get(`/repos/${config.server.github.owner}/${config.server.github.repo}/issues/${number}`, {\n    params: {\n      client_id: config.server.github.clientId,\n      client_secret: config.server.github.clientSecret\n    }\n  }).catch(err => handleError({ ctx, err }))\n  if (res) {\n    const detail = res.data\n    detail.body = articleParser(detail.body)\n    handleSuccess({\n      ctx,\n      data: detail\n    })\n  } else {\n    handleError({ ctx })\n  }\n}\n\nfunction articleParser (content) {\n  const data = {}\n  const splits = content.split('\\r\\n')\n  const thumb = splits[0]\n  let cap = mdImageReg.exec(thumb)\n  if (cap) {\n    data.thumb = cap[2]\n    data.content = content.split(thumb)[1]\n  } else {\n    data.content = content\n  }\n  data._content = content\n  return data\n}\n\nexport default {\n  list: async (ctx, next) => {\n    await handleRequest({ ctx, next, type: articleCtrl.list })\n  },\n  item: async (ctx, next) => {\n    await handleRequest({ ctx, next, type: articleCtrl.item })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/article.js","/**\n * @desc Controllers entry\n * @author Jooger <zzy1198258955@163.com>\n * @date 19 Sep 2017\n */\n\nexport { default as articleController } from './article'\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/index.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"simple-node-logger\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"simple-node-logger\"\n// module id = 14\n// module chunks = 0","import Koa from 'koa'\nimport Router from 'koa-router'\nimport respond from 'koa-respond'\nimport { Nuxt, Builder } from 'nuxt'\nimport routes from './routes'\nimport config from '../config'\nimport nuxtConfig from '../nuxt.config'\nimport { logger } from './utils'\n\nglobal.logger = logger\n\nconst app = new Koa()\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || 3000\n\n// Set Nuxt.js options\nnuxtConfig.dev = !(app.env === 'production')\n\n// Instantiate nuxt.js\nconst nuxt = new Nuxt(nuxtConfig)\n\n// Build in development\nif (nuxtConfig.dev) {\n  const builder = new Builder(nuxt)\n  builder.build().catch(e => {\n    console.error(e) // eslint-disable-line no-console\n    process.exit(1)\n  })\n}\n\napp.use(respond({\n  methods: {\n    success: (ctx, body) => {\n      body = Object.assign({}, {\n        code: config.common.code.SUCCESS\n      }, body)\n      ctx.send(200, body)\n    },\n    failed: (ctx, body) => {\n      body = Object.assign({}, {\n        code: config.common.code.FAILED\n      }, body)\n      ctx.send(200, body)\n    }\n  }\n}))\napp.use((ctx, next) => {\n  if (ctx.url.includes('/api')) {\n    return next()\n  }\n  ctx.status = 200 // koa defaults to 404 when it sees that status is unset\n  return new Promise((resolve, reject) => {\n    ctx.res.on('close', resolve)\n    ctx.res.on('finish', resolve)\n    nuxt.render(ctx.req, ctx.res, promise => {\n      // nuxt.render passes a rejected promise into callback on error.\n      promise.then(resolve).catch(reject)\n    })\n  })\n})\n\nconst router = new Router({\n  prefix: '/api'\n})\nroutes(router)\napp.use(router.routes(), router.allowedMethods())\n\napp.listen(port, host)\nconsole.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}